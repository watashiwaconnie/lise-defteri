(()=>{var e={};e.id=173,e.ids=[173],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},6915:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var t=s(482),r=s(9108),i=s(2563),n=s.n(i),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(a,o);let d=["",{children:["leaderboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2675)),"C:\\Users\\ummuh\\OneDrive\\Masa\xfcst\xfc\\lisedefteri\\src\\app\\leaderboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4608)),"C:\\Users\\ummuh\\OneDrive\\Masa\xfcst\xfc\\lisedefteri\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\ummuh\\OneDrive\\Masa\xfcst\xfc\\lisedefteri\\src\\app\\leaderboard\\page.tsx"],u="/leaderboard/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/leaderboard/page",pathname:"/leaderboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7261:(e,a,s)=>{Promise.resolve().then(s.bind(s,8738))},5187:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(9224).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},6755:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(9224).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},782:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(9224).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},8738:(e,a,s)=>{"use strict";s.r(a),s.d(a,{Leaderboard:()=>y});var t=s(2295),r=s(3729),i=s(7916),n=s(9224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,n.Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),o=(0,n.Z)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);var d=s(5187),c=s(782),u=s(6755),m=s(3673),x=s(9591),p=s(4871),h=s(1467),f=s(1858),g=s(1453);function y({topUsers:e,currentUser:a,currentUserRank:s}){let[n,y]=(0,r.useState)([]),[b,v]=(0,r.useState)(!0),[j,N]=(0,r.useState)("all"),{supabase:w}=(0,f.useSupabase)();(0,r.useEffect)(()=>{k(e)},[e,j]);let k=e=>{v(!0);try{let a=(e||[]).map((e,a)=>({id:e.id,username:e.username,display_name:e.display_name||e.username,avatar_url:e.avatar_url,total_points:e.total_points||0,level:e.level||1,badges:e.user_badges?.flatMap(e=>e.badges)||[],school:e.school,grade:e.grade,rank:a+1}));y(a)}catch(e){console.error("Error processing users:",e)}finally{v(!1)}},C=e=>{switch(e){case 1:return t.jsx(l,{className:"h-6 w-6 text-yellow-500"});case 2:return t.jsx(o,{className:"h-6 w-6 text-gray-400"});case 3:return t.jsx(d.Z,{className:"h-6 w-6 text-orange-600"});default:return(0,t.jsxs)("span",{className:"text-lg font-bold text-gray-600",children:["#",e]})}},_=e=>{switch(e){case 1:return"from-yellow-400 to-yellow-600";case 2:return"from-gray-300 to-gray-500";case 3:return"from-orange-400 to-orange-600";default:return"from-gray-100 to-gray-200"}};return b?t.jsx("div",{className:"space-y-4",children:[...Array(10)].map((e,a)=>t.jsx(m.Zb,{className:"p-4",children:(0,t.jsxs)("div",{className:"animate-pulse flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),t.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})]})},a))}):(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx(m.Zb,{className:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx(c.Z,{className:"h-8 w-8"}),t.jsx("h1",{className:"text-3xl font-bold",children:"Liderlik Tablosu"})]}),t.jsx("p",{className:"text-yellow-100 text-lg",children:"En aktif ve başarılı forum \xfcyeleri"})]})}),(0,t.jsxs)(h.mQ,{value:j,onValueChange:e=>N(e),children:[(0,t.jsxs)(h.dr,{className:"grid w-full grid-cols-3",children:[t.jsx(h.SP,{value:"all",children:"T\xfcm Zamanlar"}),t.jsx(h.SP,{value:"month",children:"Bu Ay"}),t.jsx(h.SP,{value:"week",children:"Bu Hafta"})]}),(0,t.jsxs)(h.nU,{value:j,className:"space-y-4",children:[n.length>=3&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:n.slice(0,3).map((e,a)=>t.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:`relative ${0===a?"md:order-2":1===a?"md:order-1":"md:order-3"}`,children:(0,t.jsxs)(m.Zb,{className:`p-6 text-center bg-gradient-to-br ${_(e.rank)} text-white`,children:[t.jsx("div",{className:"flex justify-center mb-4",children:C(e.rank)}),t.jsx(p.q,{src:e.avatar_url,alt:e.display_name,fallback:e.username[0]?.toUpperCase(),size:"lg",className:"mx-auto mb-4 border-4 border-white"}),t.jsx("h3",{className:"font-bold text-lg mb-1",children:e.display_name}),(0,t.jsxs)("p",{className:"text-sm opacity-90 mb-2",children:["@",e.username]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(u.Z,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"font-semibold",children:[(0,g.uf)(e.total_points)," puan"]})]}),(0,t.jsxs)(x.C,{variant:"secondary",className:"bg-white/20 text-white",children:["Seviye ",e.level]}),e.school&&t.jsx("p",{className:"text-xs opacity-75",children:e.school})]})]})},e.id))}),t.jsx("div",{className:"space-y-2",children:n.slice(3).map((e,a)=>t.jsx(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:(a+3)*.05},children:t.jsx(m.Zb,{className:"p-4 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0 w-8 text-center",children:C(e.rank)}),t.jsx(p.q,{src:e.avatar_url,alt:e.display_name,fallback:e.username[0]?.toUpperCase(),size:"md"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.display_name}),(0,t.jsxs)(x.C,{variant:"outline",className:"text-xs",children:["Lv. ",e.level]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,t.jsxs)("span",{children:["@",e.username]}),e.school&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsx("span",{children:e.school})]}),e.grade&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{children:"•"}),(0,t.jsxs)("span",{children:[e.grade,". Sınıf"]})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-primary-600",children:[t.jsx(u.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"font-semibold",children:(0,g.uf)(e.total_points)})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.badges.length," rozet"]})]})]})})},e.id))})]})]}),0===n.length&&(0,t.jsxs)(m.Zb,{className:"p-8 text-center",children:[t.jsx(c.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Hen\xfcz liderlik tablosu yok"}),t.jsx("p",{className:"text-gray-600",children:"Forum'da aktif olmaya başla ve liderlik tablosunda yerini al!"})]})]})}},4871:(e,a,s)=>{"use strict";s.d(a,{q:()=>n});var t=s(2295);s(3729);var r=s(5480),i=s(1453);function n({src:e,alt:a="",fallback:s="?",size:n="md",className:l}){let o={xs:"h-6 w-6 text-xs",sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg",xl:"h-16 w-16 text-xl"},d=o[n]||o.md;return(0,t.jsxs)(r.fC,{className:(0,i.cn)("relative flex shrink-0 overflow-hidden rounded-full",d,l),children:[t.jsx(r.Ee,{src:e,alt:a,className:"aspect-square h-full w-full object-cover"}),t.jsx(r.NY,{className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted font-medium",d),children:s})]})}},3673:(e,a,s)=>{"use strict";s.d(a,{Zb:()=>n});var t=s(2295),r=s(3729),i=s(1453);let n=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("rounded-xl border border-gray-200 bg-white shadow-soft",e),...a}));n.displayName="Card",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a})).displayName="CardHeader",r.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...a})).displayName="CardTitle",r.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-gray-600",e),...a})).displayName="CardDescription",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...a})).displayName="CardContent",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},1467:(e,a,s)=>{"use strict";s.d(a,{SP:()=>d,dr:()=>o,mQ:()=>l,nU:()=>c});var t=s(2295),r=s(3729),i=s(9128),n=s(1453);let l=i.Root,o=r.forwardRef(({className:e,...a},s)=>t.jsx(i.List,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));o.displayName=i.List.displayName;let d=r.forwardRef(({className:e,...a},s)=>t.jsx(i.Trigger,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));d.displayName=i.Trigger.displayName;let c=r.forwardRef(({className:e,...a},s)=>t.jsx(i.Content,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));c.displayName=i.Content.displayName},2675:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var t=s(5036),r=s(2),i=s(2509),n=s(6843);let l=(0,n.createProxy)(String.raw`C:\Users\ummuh\OneDrive\Masaüstü\lisedefteri\src\components\gamification\leaderboard.tsx`),{__esModule:o,$$typeof:d}=l;l.default;let c=(0,n.createProxy)(String.raw`C:\Users\ummuh\OneDrive\Masaüstü\lisedefteri\src\components\gamification\leaderboard.tsx#Leaderboard`);var u=s(9681);async function m(){let e=(0,i.fU)(),{data:a}=await e.from("profiles").select(`
      id,
      username,
      display_name,
      avatar_url,
      school,
      grade,
      total_points,
      level,
      user_badges (
        badges (
          name,
          icon,
          color,
          rarity
        )
      )
    `).order("total_points",{ascending:!1}).limit(50),{data:{user:s}}=await e.auth.getUser(),n=null;if(s){let{data:a}=await e.from("profiles").select("total_points").eq("id",s.id).single();if(a){let{count:s}=await e.from("profiles").select("*",{count:"exact",head:!0}).gt("total_points",a.total_points);n=(s||0)+1}}return t.jsx("div",{className:"min-h-screen bg-gray-50",children:t.jsx(r.Suspense,{fallback:t.jsx(u.h,{}),children:t.jsx(c,{topUsers:a||[],currentUser:s,currentUserRank:n})})})}},2509:(e,a,s)=>{"use strict";s.d(a,{fU:()=>i,ts:()=>n});var t=s(7699),r=s(2455);function i(){return(0,t.createServerComponentClient)({cookies:r.cookies})}async function n(){let e=i();try{let{data:{user:a},error:s}=await e.auth.getUser();if(s||!a)return null;let{data:t}=await e.from("profiles").select("*").eq("id",a.id).single();return{user:a,profile:t}}catch(e){return console.error("Error getting current user:",e),null}}},9128:(e,a,s)=>{"use strict";s.r(a),s.d(a,{Content:()=>T,List:()=>P,Root:()=>M,Tabs:()=>b,TabsContent:()=>C,TabsList:()=>j,TabsTrigger:()=>w,Trigger:()=>Z,createTabsScope:()=>h});var t=s(3729),r=s(5222),i=s(8462),n=s(4504),l=s(3234),o=s(2409),d=s(3975),c=s(3183),u=s(9048),m=s(2295),x="Tabs",[p,h]=(0,i.b)(x,[n.Pc]),f=(0,n.Pc)(),[g,y]=p(x),b=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,onValueChange:r,defaultValue:i,orientation:n="horizontal",dir:l,activationMode:p="automatic",...h}=e,f=(0,d.gm)(l),[y,b]=(0,c.T)({prop:t,onChange:r,defaultProp:i??"",caller:x});return(0,m.jsx)(g,{scope:s,baseId:(0,u.M)(),value:y,onValueChange:b,orientation:n,dir:f,activationMode:p,children:(0,m.jsx)(o.WV.div,{dir:f,"data-orientation":n,...h,ref:a})})});b.displayName=x;var v="TabsList",j=t.forwardRef((e,a)=>{let{__scopeTabs:s,loop:t=!0,...r}=e,i=y(v,s),l=f(s);return(0,m.jsx)(n.fC,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:t,children:(0,m.jsx)(o.WV.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:a})})});j.displayName=v;var N="TabsTrigger",w=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:t,disabled:i=!1,...l}=e,d=y(N,s),c=f(s),u=_(d.baseId,t),x=q(d.baseId,t),p=t===d.value;return(0,m.jsx)(n.ck,{asChild:!0,...c,focusable:!i,active:p,children:(0,m.jsx)(o.WV.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":x,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...l,ref:a,onMouseDown:(0,r.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(t)}),onKeyDown:(0,r.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(t)}),onFocus:(0,r.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;p||i||!e||d.onValueChange(t)})})})});w.displayName=N;var k="TabsContent",C=t.forwardRef((e,a)=>{let{__scopeTabs:s,value:r,forceMount:i,children:n,...d}=e,c=y(k,s),u=_(c.baseId,r),x=q(c.baseId,r),p=r===c.value,h=t.useRef(p);return t.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(l.z,{present:i||p,children:({present:s})=>(0,m.jsx)(o.WV.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:x,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&n})})});function _(e,a){return`${e}-trigger-${a}`}function q(e,a){return`${e}-content-${a}`}C.displayName=k;var M=b,P=j,Z=w,T=C}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[989,134,345,135,349,147],()=>s(6915));module.exports=t})();