(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{9865:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},8203:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},7405:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]])},6142:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7187:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},9409:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2245:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},6781:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},7972:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(2898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3540:function(e,s,a){Promise.resolve().then(a.bind(a,9146))},9146:function(e,s,a){"use strict";a.r(s),a.d(s,{ProfileView:function(){return q}});var t=a(7437),i=a(2265),r=a(5251);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(2898).Z)("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);var c=a(9865),n=a(6142),d=a(8203),o=a(6781),x=a(7810),m=a(9409),h=a(4527),y=a(2176),u=a(7472),p=a(7972),f=a(2245),g=a(7187),v=a(7405),j=a(575),N=a(3277),k=a(5808),b=a(9497),w=a(2426),_=a(1097),Z=a(2169);function q(e){var s,a;let{profile:q,currentUser:z,currentUserProfile:C}=e,[M,E]=(0,i.useState)("none"),[S,A]=(0,i.useState)(!1),[O,H]=(0,i.useState)(0),[U,P]=(0,i.useState)({topicsCount:0,postsCount:0,likesReceived:0,friendsCount:0}),{toast:Q}=(0,w.useToast)(),V=(null==z?void 0:z.id)===q.id;(0,i.useEffect)(()=>{z&&!V&&(G(),B()),R()},[z,q.id]);let G=async()=>{if(z)try{let{data:e,error:s}=await _.OQ.from("friendships").select("status").or("and(requester_id.eq.".concat(z.id,",addressee_id.eq.").concat(q.id,"),and(requester_id.eq.").concat(q.id,",addressee_id.eq.").concat(z.id,")")).single();if(s&&"PGRST116"!==s.code){console.error("Error checking friendship:",s);return}e&&E(e.status)}catch(e){console.error("Error checking friendship:",e)}},B=()=>{C&&q.interests&&C.interests&&H((0,Z.g)(C.interests,q.interests))},R=async()=>{try{let{count:e}=await _.OQ.from("forum_topics").select("*",{count:"exact",head:!0}).eq("user_id",q.id),{count:s}=await _.OQ.from("forum_posts").select("*",{count:"exact",head:!0}).eq("user_id",q.id),{data:a}=await _.OQ.from("forum_topics").select("like_count").eq("user_id",q.id),{data:t}=await _.OQ.from("forum_posts").select("like_count").eq("user_id",q.id),i=((null==a?void 0:a.reduce((e,s)=>e+s.like_count,0))||0)+((null==t?void 0:t.reduce((e,s)=>e+s.like_count,0))||0),{count:r}=await _.OQ.from("friendships").select("*",{count:"exact",head:!0}).or("requester_id.eq.".concat(q.id,",addressee_id.eq.").concat(q.id)).eq("status","accepted");P({topicsCount:e||0,postsCount:s||0,likesReceived:i,friendsCount:r||0})}catch(e){console.error("Error loading user stats:",e)}},T=async()=>{if(!z){Q({title:"Giriş yapmalısın",description:"Arkadaşlık isteği g\xf6ndermek i\xe7in giriş yap.",type:"error"});return}A(!0);try{if("none"===M){let{error:e}=await _.OQ.from("friendships").insert({requester_id:z.id,addressee_id:q.id,status:"pending"});if(e)throw e;E("pending"),Q({title:"Arkadaşlık isteği g\xf6nderildi!",type:"success"})}else if("pending"===M){let{error:e}=await _.OQ.from("friendships").delete().or("and(requester_id.eq.".concat(z.id,",addressee_id.eq.").concat(q.id,"),and(requester_id.eq.").concat(q.id,",addressee_id.eq.").concat(z.id,")"));if(e)throw e;E("none"),Q({title:"Arkadaşlık isteği iptal edildi.",type:"success"})}}catch(e){console.error("Error handling friend request:",e),Q({title:"Bir hata oluştu",description:"L\xfctfen tekrar deneyin.",type:"error"})}finally{A(!1)}},K=e=>{switch(e){case"legendary":return"bg-gradient-to-r from-yellow-400 to-orange-500";case"epic":return"bg-gradient-to-r from-purple-400 to-pink-500";case"rare":return"bg-gradient-to-r from-blue-400 to-cyan-500";default:return"bg-gradient-to-r from-gray-400 to-gray-500"}};return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-soft p-8 mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-6 lg:space-y-0 lg:space-x-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[(0,t.jsx)(k.q,{src:q.avatar_url||void 0,alt:q.display_name||q.username,fallback:null===(s=q.username[0])||void 0===s?void 0:s.toUpperCase(),size:"2xl",className:"ring-4 ring-primary-100"}),(0,t.jsxs)("div",{className:"text-center sm:text-left",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:q.display_name||q.username}),(0,t.jsxs)("p",{className:"text-gray-600 mb-2",children:["@",q.username]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-3 text-sm text-gray-500",children:[q.school&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(l,{className:"h-4 w-4 mr-1"}),q.school]}),q.grade&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 mr-1"}),(0,Z.vs)(q.grade)]}),q.city&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 mr-1"}),q.city]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 mr-1"}),(0,Z.p6)(q.created_at)," tarihinde katıldı"]})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col lg:items-end space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center lg:justify-end",children:(0,t.jsxs)("div",{className:"bg-gradient-primary text-white px-4 py-2 rounded-full flex items-center space-x-2",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"font-semibold",children:["Seviye ",q.level]})]})}),!V&&O>0&&(0,t.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(O>=80?"text-green-600 bg-green-100":O>=60?"text-blue-600 bg-blue-100":O>=40?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100"),children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(x.Z,{className:"h-3 w-3"}),(0,t.jsxs)("span",{children:["%",O," ",O>=80?"\xc7ok Uyumlu":O>=60?"Uyumlu":O>=40?"Kısmen Uyumlu":"Az Uyumlu"]})]})}),(0,t.jsx)("div",{className:"flex items-center space-x-3",children:V?(0,t.jsx)(j.z,{asChild:!0,children:(0,t.jsxs)("a",{href:"/profile/edit",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Profili D\xfczenle"]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(j.z,{onClick:T,disabled:S,variant:"friends"===M?"outline":"default",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"none"===M&&"Arkadaş Ekle","pending"===M&&"İstek G\xf6nderildi","friends"===M&&"Arkadaş"]}),(0,t.jsxs)(j.z,{variant:"outline",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Mesaj G\xf6nder"]}),(0,t.jsx)(j.z,{variant:"ghost",size:"sm",children:(0,t.jsx)(u.Z,{className:"h-4 w-4"})})]})})]})]}),q.bio&&(0,t.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed",children:q.bio})}),(0,t.jsx)("div",{className:"mt-6 pt-6 border-t",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:U.topicsCount}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Konu"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:U.postsCount}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Cevap"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:U.likesReceived}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Beğeni"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:U.friendsCount}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Arkadaş"})]})]})})]}),(0,t.jsxs)(b.mQ,{defaultValue:"overview",className:"space-y-6",children:[(0,t.jsxs)(b.dr,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(b.SP,{value:"overview",children:"Genel Bakış"}),(0,t.jsx)(b.SP,{value:"interests",children:"İlgi Alanları"}),(0,t.jsx)(b.SP,{value:"badges",children:"Rozetler"}),(0,t.jsx)(b.SP,{value:"activity",children:"Aktivite"})]}),(0,t.jsx)(b.nU,{value:"overview",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[q.personality_type&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,t.jsx)(p.Z,{className:"h-5 w-5 mr-2 text-primary-500"}),"Kişilik Tipi"]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:q.personality_type}),(0,t.jsx)("p",{className:"text-gray-600",children:"Bu kişilik tipi hakkında daha fazla bilgi..."})]})]}),(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5 mr-2 text-primary-500"}),"Son Aktivite"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Son g\xf6r\xfclme: ",(0,Z.p6)(q.last_active)]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Toplam puan: ",q.total_points]})]})]})]})}),(0,t.jsx)(b.nU,{value:"interests",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[q.interests&&q.interests.length>0&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 mr-2 text-primary-500"}),"İlgi Alanları"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:q.interests.map(e=>(0,t.jsx)(N.C,{variant:"secondary",children:e},e))})]}),q.music_taste&&q.music_taste.length>0&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 mr-2 text-primary-500"}),"M\xfczik Zevki"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:q.music_taste.map(e=>(0,t.jsx)(N.C,{variant:"outline",children:e},e))})]}),q.hobbies&&q.hobbies.length>0&&(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-6 lg:col-span-2",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,t.jsx)(v.Z,{className:"h-5 w-5 mr-2 text-primary-500"}),"Hobiler"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:q.hobbies.map(e=>(0,t.jsx)(N.C,{variant:"success",children:e},e))})]})]})}),(0,t.jsx)(b.nU,{value:"badges",className:"space-y-6",children:(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[(0,t.jsx)(o.Z,{className:"h-5 w-5 mr-2 text-primary-500"}),"Kazanılan Rozetler (",(null===(a=q.user_badges)||void 0===a?void 0:a.length)||0,")"]}),q.user_badges&&q.user_badges.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:q.user_badges.map(e=>(0,t.jsx)("div",{className:"p-4 rounded-lg text-white ".concat(K(e.badges.rarity)),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:e.badges.icon}),(0,t.jsx)("h4",{className:"font-semibold mb-1",children:e.badges.name}),(0,t.jsx)("p",{className:"text-sm opacity-90 mb-2",children:e.badges.description}),(0,t.jsxs)("p",{className:"text-xs opacity-75",children:[(0,Z.p6)(e.earned_at)," tarihinde kazanıldı"]})]})},e.badge_id))}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(o.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Hen\xfcz rozet kazanılmamış"})]})]})}),(0,t.jsx)(b.nU,{value:"activity",className:"space-y-6",children:(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5 mr-2 text-primary-500"}),"Son Aktiviteler"]}),(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(y.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Aktivite ge\xe7mişi y\xfckleniyor..."})]})]})})]})]})}}},function(e){e.O(0,[61,82,770,872,804,971,938,744],function(){return e(e.s=3540)}),_N_E=e.O()}]);