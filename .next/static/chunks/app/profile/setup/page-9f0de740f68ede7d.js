(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{3944:function(e,t,r){Promise.resolve().then(r.bind(r,8890))},8890:function(e,t,r){"use strict";r.r(t),r.d(t,{ProfileSetupWizard:function(){return N}});var s=r(7437),a=r(2265),i=r(4033),n=r(2167),l=r(5251),o=r(7972),c=r(7810),d=r(2851),u=r(7187),m=r(7405),h=r(4035),x=r(2442),f=r(1291),g=r(7158),p=r(575),y=r(3277),b=r(2426),v=r(1097);let j=[{id:"basic",title:"Temel Bilgiler",icon:o.Z},{id:"personality",title:"Kişilik Testi",icon:c.Z},{id:"interests",title:"İlgi Alanları",icon:d.Z},{id:"music",title:"M\xfczik Zevki",icon:u.Z},{id:"hobbies",title:"Hobiler",icon:m.Z},{id:"avatar",title:"Profil Fotoğrafı",icon:h.Z}];function N(e){let{user:t,profile:r}=e,[c,d]=(0,a.useState)(0),[u,m]=(0,a.useState)({display_name:(null==r?void 0:r.display_name)||"",school:(null==r?void 0:r.school)||"",grade:(null==r?void 0:r.grade)||null,city:(null==r?void 0:r.city)||"",bio:(null==r?void 0:r.bio)||"",personality_type:(null==r?void 0:r.personality_type)||"",interests:(null==r?void 0:r.interests)||[],music_taste:(null==r?void 0:r.music_taste)||[],hobbies:(null==r?void 0:r.hobbies)||[],avatar_url:(null==r?void 0:r.avatar_url)||""}),[h,N]=(0,a.useState)([]),[w,k]=(0,a.useState)([]),[_,S]=(0,a.useState)(!1),z=(0,i.useRouter)(),{toast:Z}=(0,b.useToast)();(0,a.useEffect)(()=>{C(),M()},[]);let C=async()=>{try{let{data:e}=await v.OQ.from("personality_types").select("code, name, description").order("code");e&&N(e)}catch(e){console.error("Error loading personality types:",e)}},M=async()=>{try{let{data:e}=await v.OQ.from("interest_categories").select("*").order("name");e&&k(e)}catch(e){console.error("Error loading interest categories:",e)}},I=async()=>{S(!0);try{let{error:e}=await v.OQ.from("profiles").update({display_name:u.display_name,school:u.school,grade:u.grade,city:u.city,bio:u.bio,personality_type:u.personality_type,interests:u.interests,music_taste:u.music_taste,hobbies:u.hobbies,avatar_url:u.avatar_url,updated_at:new Date().toISOString()}).eq("id",t.id);if(e)throw e;Z({title:"Profil başarıyla tamamlandı!",description:"Artık platformun t\xfcm \xf6zelliklerini kullanabilirsin.",type:"success"}),z.push("/profile")}catch(e){console.error("Error updating profile:",e),Z({title:"Profil g\xfcncellenirken hata oluştu",description:"L\xfctfen tekrar deneyin.",type:"error"})}finally{S(!1)}},T=e=>{m(t=>({...t,interests:t.interests.includes(e)?t.interests.filter(t=>t!==e):[...t.interests,e]}))},E=e=>{m(t=>({...t,music_taste:t.music_taste.includes(e)?t.music_taste.filter(t=>t!==e):[...t.music_taste,e]}))},O=e=>{m(t=>({...t,hobbies:t.hobbies.includes(e)?t.hobbies.filter(t=>t!==e):[...t.hobbies,e]}))};return(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-soft p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:j.map((e,t)=>{let r=e.icon,a=t===c,i=t<c;return(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all ".concat(i?"bg-primary-500 border-primary-500 text-white":a?"border-primary-500 text-primary-500":"border-gray-300 text-gray-400"),children:i?(0,s.jsx)(x.Z,{className:"w-5 h-5"}):(0,s.jsx)(r,{className:"w-5 h-5"})}),t<j.length-1&&(0,s.jsx)("div",{className:"w-12 h-0.5 mx-2 ".concat(i?"bg-primary-500":"bg-gray-300")})]},e.id)})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:j[c].title}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Adım ",c+1," / ",j.length]})]})]}),(0,s.jsx)(n.M,{mode:"wait",children:(0,s.jsx)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"min-h-[400px]",children:(()=>{switch(j[c].id){case"basic":return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"G\xf6r\xfcnen Ad"}),(0,s.jsx)("input",{type:"text",value:u.display_name,onChange:e=>m(t=>({...t,display_name:e.target.value})),className:"input w-full",placeholder:"Adın ve soyadın"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Okul"}),(0,s.jsx)("input",{type:"text",value:u.school,onChange:e=>m(t=>({...t,school:e.target.value})),className:"input w-full",placeholder:"Okul adın"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf"}),(0,s.jsxs)("select",{value:u.grade||"",onChange:e=>m(t=>({...t,grade:e.target.value?parseInt(e.target.value):null})),className:"input w-full",children:[(0,s.jsx)("option",{value:"",children:"Sınıf se\xe7"}),(0,s.jsx)("option",{value:"9",children:"9. Sınıf"}),(0,s.jsx)("option",{value:"10",children:"10. Sınıf"}),(0,s.jsx)("option",{value:"11",children:"11. Sınıf"}),(0,s.jsx)("option",{value:"12",children:"12. Sınıf"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şehir"}),(0,s.jsx)("input",{type:"text",value:u.city,onChange:e=>m(t=>({...t,city:e.target.value})),className:"input w-full",placeholder:"Hangi şehirde yaşıyorsun?"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hakkında"}),(0,s.jsx)("textarea",{value:u.bio,onChange:e=>m(t=>({...t,bio:e.target.value})),className:"input w-full h-24 resize-none",placeholder:"Kendinden bahset..."})]})]});case"personality":var e;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Kişilik Tipini Se\xe7"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Hangi kişilik tipi sana en uygun? (MBTI tabanlı)"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:h.map(e=>(0,s.jsxs)("button",{onClick:()=>m(t=>({...t,personality_type:e.code})),className:"p-4 rounded-lg border-2 transition-all ".concat(u.personality_type===e.code?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)("div",{className:"text-sm font-bold text-primary-600 mb-1",children:e.code}),(0,s.jsx)("div",{className:"text-xs text-gray-700 font-medium",children:e.name})]},e.code))}),u.personality_type&&(0,s.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,s.jsx)("div",{className:"text-sm text-gray-700",children:null===(e=h.find(e=>e.code===u.personality_type))||void 0===e?void 0:e.description})})]});case"interests":return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"İlgi Alanlarını Se\xe7"}),(0,s.jsx)("p",{className:"text-gray-600",children:"İlgilendiğin konuları se\xe7 (birden fazla se\xe7ebilirsin)"})]}),w.map(e=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h4",{className:"font-medium text-gray-900 flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:e.icon}),e.name]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.interests.map(e=>(0,s.jsxs)(y.C,{variant:u.interests.includes(e)?"default":"outline",className:"cursor-pointer transition-all hover:scale-105",onClick:()=>T(e),children:[e,u.interests.includes(e)&&(0,s.jsx)(x.Z,{className:"ml-1 h-3 w-3"})]},e))})]},e.id))]});case"music":return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"M\xfczik Zevkin"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Hangi m\xfczik t\xfcrlerini seviyorsun?"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["Pop","Rock","Hip-Hop","R&B","Electronic","Jazz","Classical","Country","Reggae","Blues","Folk","Punk","Metal","Indie","Alternative","T\xfcrk\xe7e Pop","Arabesk","T\xfcrk Halk M\xfcziği"].map(e=>(0,s.jsxs)(y.C,{variant:u.music_taste.includes(e)?"secondary":"outline",className:"cursor-pointer transition-all hover:scale-105",onClick:()=>E(e),children:[e,u.music_taste.includes(e)&&(0,s.jsx)(x.Z,{className:"ml-1 h-3 w-3"})]},e))})]});case"hobbies":return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Hobilerin"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Boş zamanlarında ne yapmayı seviyorsun?"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["Okuma","Yazma","\xc7izim","Fotoğraf\xe7ılık","M\xfczik Dinleme","Enstr\xfcman \xc7alma","Dans","Spor","Yemek Yapma","Bah\xe7ıvanlık","El Sanatları","Koleksiyon","Seyahat","Oyun Oynama","Film İzleme","Dizi İzleme","Podcast Dinleme","Yoga","Meditasyon","G\xf6n\xfcll\xfcl\xfck"].map(e=>(0,s.jsxs)(y.C,{variant:u.hobbies.includes(e)?"success":"outline",className:"cursor-pointer transition-all hover:scale-105",onClick:()=>O(e),children:[e,u.hobbies.includes(e)&&(0,s.jsx)(x.Z,{className:"ml-1 h-3 w-3"})]},e))})]});case"avatar":return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Profil Fotoğrafı"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Profil fotoğrafın i\xe7in bir URL ekle (isteğe bağlı)"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-32 h-32 mx-auto mb-4 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:u.avatar_url?(0,s.jsx)("img",{src:u.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):(0,s.jsx)(o.Z,{className:"w-16 h-16 text-gray-400"})}),(0,s.jsx)("input",{type:"url",value:u.avatar_url,onChange:e=>m(t=>({...t,avatar_url:e.target.value})),className:"input w-full max-w-md mx-auto",placeholder:"https://example.com/avatar.jpg"})]})]});default:return null}})()},c)}),(0,s.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,s.jsxs)(p.z,{variant:"outline",onClick:()=>{c>0&&d(c-1)},disabled:0===c,className:"flex items-center",children:[(0,s.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Geri"]}),c===j.length-1?(0,s.jsxs)(p.z,{onClick:I,disabled:_,className:"flex items-center",children:[_?"Kaydediliyor...":"Tamamla",(0,s.jsx)(x.Z,{className:"w-4 h-4 ml-2"})]}):(0,s.jsxs)(p.z,{onClick:()=>{c<j.length-1&&d(c+1)},className:"flex items-center",children:["İleri",(0,s.jsx)(g.Z,{className:"w-4 h-4 ml-2"})]})]})]})}},3277:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(7437);r(2265);var a=r(6061),i=r(2169);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary-500 text-white hover:bg-primary-600",secondary:"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-200",destructive:"border-transparent bg-error-500 text-white hover:bg-error-600",outline:"text-gray-900 border-gray-300 hover:bg-gray-50",success:"border-transparent bg-success-500 text-white hover:bg-success-600",warning:"border-transparent bg-warning-500 text-white hover:bg-warning-600"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)(n({variant:r}),t),...a})}},575:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),a=r(2265),i=r(7256),n=r(6061),l=r(2169);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white shadow hover:bg-primary-600 hover:shadow-md",destructive:"bg-error-500 text-white shadow hover:bg-error-600",outline:"border border-gray-300 bg-white shadow-sm hover:bg-gray-50 hover:shadow-md",secondary:"bg-secondary-500 text-white shadow hover:bg-secondary-600 hover:shadow-md",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-primary-500 underline-offset-4 hover:underline",gradient:"bg-gradient-primary text-white shadow hover:shadow-md hover:scale-105"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:n,className:r})),ref:t,...d})});c.displayName="Button"},2426:function(e,t,r){"use strict";r.r(t),r.d(t,{Toaster:function(){return p},useToast:function(){return g}});var s=r(7437),a=r(2265),i=r(3008),n=r(1981),l=r(2894),o=r(4056),c=r(2549),d=r(2169);let u=[],m=[],h=e=>{let t=Math.random().toString(36).substr(2,9);return u=[{id:t,...e},...u],m.forEach(e=>e(u)),setTimeout(()=>{x(t)},e.duration||5e3),t},x=e=>{u=u.filter(t=>t.id!==e),m.forEach(e=>e(u))},f=e=>(m.push(e),()=>{m=m.filter(t=>t!==e)}),g=()=>{let[e,t]=(0,a.useState)(u);(0,a.useEffect)(()=>f(t),[]);let r=e=>h(e);return{toast:r,success:(e,t)=>r({title:e,description:t,type:"success"}),error:(e,t)=>r({title:e,description:t,type:"error"}),warning:(e,t)=>r({title:e,description:t,type:"warning"}),info:(e,t)=>r({title:e,description:t,type:"info"}),toasts:e,dismiss:x}};function p(e){let{className:t}=e,{toasts:r,dismiss:a}=g(),u=e=>{switch(e){case"success":return i.Z;case"error":return n.Z;case"warning":return l.Z;default:return o.Z}},m=e=>{switch(e){case"success":return"border-success-200 bg-success-50 text-success-800";case"error":return"border-error-200 bg-error-50 text-error-800";case"warning":return"border-warning-200 bg-warning-50 text-warning-800";case"info":return"border-primary-200 bg-primary-50 text-primary-800";default:return"border-gray-200 bg-white text-gray-800"}};return 0===r.length?null:(0,s.jsx)("div",{className:(0,d.cn)("fixed top-4 right-4 z-50 flex flex-col space-y-2 w-full max-w-sm",t),children:r.map(e=>{let t=u(e.type);return(0,s.jsxs)("div",{className:(0,d.cn)("flex items-start space-x-3 rounded-lg border p-4 shadow-lg animate-slide-down",m(e.type)),children:[(0,s.jsx)(t,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[e.title&&(0,s.jsx)("div",{className:"text-sm font-medium",children:e.title}),e.description&&(0,s.jsx)("div",{className:"text-sm opacity-90 mt-1",children:e.description})]}),(0,s.jsx)("button",{onClick:()=>a(e.id),className:"flex-shrink-0 rounded-md p-1 hover:bg-black/10 focus:outline-none focus:ring-2 focus:ring-offset-2",children:(0,s.jsx)(c.Z,{className:"h-4 w-4"})})]},e.id)})})}},1097:function(e,t,r){"use strict";r.d(t,{OQ:function(){return i}});var s=r(3082),a=r(1492);let i=(0,s.createClientComponentClient)();(0,a.eI)("https://owwucdnfvzrwrqxseuyg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93d3VjZG5mdnpyd3JxeHNldXlnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Mjk1NzQ4MSwiZXhwIjoyMDY4NTMzNDgxfQ.31D4tpg5GwLGSZNbgiU4d7WEQBszkN6L19HkN3PY7Yo",{auth:{autoRefreshToken:!1,persistSession:!1}}),i.storage.from("avatars"),i.storage.from("media"),i.storage.from("documents")},2169:function(e,t,r){"use strict";r.d(t,{Ds:function(){return u},SY:function(){return l},cn:function(){return i},g:function(){return d},p6:function(){return n},uf:function(){return o},vs:function(){return c}});var s=r(7042),a=r(4769);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}function n(e){return new Intl.DateTimeFormat("tr-TR",{day:"numeric",month:"long",year:"numeric"}).format(new Date(e))}function l(e){let t=new Date,r=new Date(e),s=Math.floor((t.getTime()-r.getTime())/1e3);if(s<60)return"Az \xf6nce";let a=Math.floor(s/60);if(a<60)return"".concat(a," dakika \xf6nce");let i=Math.floor(a/60);if(i<24)return"".concat(i," saat \xf6nce");let n=Math.floor(i/24);if(n<7)return"".concat(n," g\xfcn \xf6nce");let l=Math.floor(n/7);if(l<4)return"".concat(l," hafta \xf6nce");let o=Math.floor(n/30);return o<12?"".concat(o," ay \xf6nce"):"".concat(Math.floor(n/365)," yıl \xf6nce")}function o(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function c(e){return({9:"9. Sınıf",10:"10. Sınıf",11:"11. Sınıf",12:"12. Sınıf"})[e]||"Bilinmiyor"}function d(e,t){if(!e.length||!t.length)return 0;let r=e.filter(e=>t.includes(e)),s=new Set([...e,...t]).size;return Math.round(r.length/s*100)}function u(e,t){let r;return function(){for(var s=arguments.length,a=Array(s),i=0;i<s;i++)a[i]=arguments[i];clearTimeout(r),r=setTimeout(()=>e(...a),t)}}}},function(e){e.O(0,[61,82,770,922,971,938,744],function(){return e(e.s=3944)}),_N_E=e.O()}]);