(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1981:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3067:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2442:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7216:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},9670:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9036:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},9979:function(e,r,t){Promise.resolve().then(t.bind(t,434))},434:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return C}});var a=t(7437),s=t(2265),i=t(4033),n=t(1396),l=t.n(n),o=t(5251),c=t(3067),d=t(7216),u=t(9670),m=t(5671),x=t(575),h=t(2782),f=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,f.Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);var p=t(1981),y=t(2442),v=t(9036);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,f.Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),j=(0,f.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var N=t(3277),w=t(4840),k=t(1168),_=t(2169);function S(e){let{mode:r,onValidCode:t}=e,[i,n]=(0,s.useState)([]),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(!1),[f,S]=(0,s.useState)(!1),[C,Z]=(0,s.useState)(""),[z,I]=(0,s.useState)(""),[D,M]=(0,s.useState)(""),{supabase:O}=(0,w.useSupabase)(),{user:E}=(0,k.a)();(0,s.useEffect)(()=>{"manage"===r&&E&&A()},[r,E]);let A=async()=>{if(E)try{let{data:e,error:r}=await O.from("invite_codes").select("\n          *,\n          invite_uses(\n            profiles(username),\n            created_at\n          )\n        ").eq("created_by",E.id).order("created_at",{ascending:!1});if(r)throw r;let t=(e||[]).map(e=>{var r,t;return{id:e.id,code:e.code,created_by:e.created_by,max_uses:e.max_uses,current_uses:(null===(r=e.invite_uses)||void 0===r?void 0:r.length)||0,expires_at:e.expires_at,is_active:e.is_active,created_at:e.created_at,used_by:(null===(t=e.invite_uses)||void 0===t?void 0:t.map(e=>({id:e.user_id,username:e.profiles.username,created_at:e.created_at})))||[]}});n(t)}catch(e){console.error("Error fetching invite codes:",e)}},q=async()=>{if(!l.trim()){Z("L\xfctfen davet kodunu girin");return}u(!0),Z("");try{var e;let{data:r,error:a}=await O.from("invite_codes").select("\n          *,\n          invite_uses(count)\n        ").eq("code",l.trim().toUpperCase()).eq("is_active",!0).single();if(a||!r){Z("Ge\xe7ersiz davet kodu");return}if(new Date(r.expires_at)<new Date){Z("Bu davet kodunun s\xfcresi dolmuş");return}if(((null===(e=r.invite_uses)||void 0===e?void 0:e.length)||0)>=r.max_uses){Z("Bu davet kodu kullanım limitine ulaşmış");return}I("Davet kodu ge\xe7erli! Kayıt işlemine devam edebilirsiniz."),t&&t(l.trim().toUpperCase())}catch(e){console.error("Error validating invite code:",e),Z("Davet kodu doğrulanırken bir hata oluştu")}finally{u(!1)}},R=async()=>{if(E){S(!0);try{let e=Math.random().toString(36).substring(2,8).toUpperCase(),r=new Date;r.setDate(r.getDate()+30);let{error:t}=await O.from("invite_codes").insert({code:e,created_by:E.id,max_uses:5,expires_at:r.toISOString(),is_active:!0});if(t)throw t;I("Yeni davet kodu oluşturuldu!"),await A()}catch(e){console.error("Error creating invite code:",e),Z("Davet kodu oluşturulurken bir hata oluştu")}finally{S(!1)}}},T=async e=>{try{await navigator.clipboard.writeText(e),M(e),setTimeout(()=>M(""),2e3)}catch(e){console.error("Error copying to clipboard:",e)}},K=async e=>{try{let{error:r}=await O.from("invite_codes").update({is_active:!1}).eq("id",e);if(r)throw r;await A()}catch(e){console.error("Error deactivating code:",e)}};return"validate"===r?(0,a.jsxs)(m.Zb,{className:"p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-primary-100 rounded-full",children:(0,a.jsx)(g,{className:"h-8 w-8 text-primary-600"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Davet Kodu Gerekli"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Bu platforma katılmak i\xe7in ge\xe7erli bir davet koduna ihtiyacınız var"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Davet Kodu"}),(0,a.jsx)(h.I,{type:"text",placeholder:"Davet kodunuzu girin",value:l,onChange:e=>{c(e.target.value.toUpperCase()),Z(""),I("")},className:"text-center text-lg font-mono tracking-wider",maxLength:6})]}),C&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 text-sm",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:C})]}),z&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-600 text-sm",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:z})]}),(0,a.jsx)(x.z,{onClick:q,disabled:d||!l.trim(),className:"w-full",children:d?"Doğrulanıyor...":"Davet Kodunu Doğrula"})]}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"Neden davet kodu?"}),(0,a.jsx)("p",{children:"Platformumuzun kalitesini korumak ve g\xfcvenli bir ortam sağlamak i\xe7in sadece davet edilen kullanıcılar katılabilir."})]})]})})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m.Zb,{className:"bg-gradient-to-r from-green-500 to-blue-600 text-white",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)(b,{className:"h-8 w-8"}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Davet Kodu Y\xf6netimi"})]}),(0,a.jsx)("p",{className:"text-green-100 text-lg",children:"Arkadaşlarını platforma davet et"})]}),(0,a.jsx)(x.z,{onClick:R,disabled:f,className:"bg-white/20 text-white hover:bg-white/30",children:f?"Oluşturuluyor...":"Yeni Kod Oluştur"})]})})}),C&&(0,a.jsx)(m.Zb,{className:"p-4 border-red-200 bg-red-50",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:C})]})}),z&&(0,a.jsx)(m.Zb,{className:"p-4 border-green-200 bg-green-50",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[(0,a.jsx)(y.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:z})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((e,r)=>(0,a.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},children:(0,a.jsxs)(m.Zb,{className:"p-6 ".concat(e.is_active?"":"opacity-60"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,a.jsx)(g,{className:"h-5 w-5 text-primary-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-mono text-xl font-bold text-gray-900",children:e.code}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,_.p6)(e.created_at)," tarihinde oluşturuldu"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.z,{variant:"ghost",size:"sm",onClick:()=>T(e.code),className:"text-gray-500 hover:text-gray-700",children:D===e.code?(0,a.jsx)(y.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(j,{className:"h-4 w-4"})}),e.is_active&&(0,a.jsx)(x.z,{variant:"ghost",size:"sm",onClick:()=>K(e.id),className:"text-red-500 hover:text-red-700",children:"Devre Dışı Bırak"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Kullanım:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.current_uses," / ",e.max_uses]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Son kullanma:"}),(0,a.jsx)("span",{className:"font-medium",children:(0,_.p6)(e.expires_at)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Durum:"}),(0,a.jsx)(N.C,{variant:e.is_active?"success":"secondary",children:e.is_active?"Aktif":"Devre Dışı"})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.current_uses/e.max_uses*100,"%")}})}),e.used_by.length>0&&(0,a.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Kullananlar:"}),(0,a.jsxs)("div",{className:"space-y-1",children:[e.used_by.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"font-medium",children:e.username}),(0,a.jsx)("span",{className:"text-gray-500",children:(0,_.p6)(e.created_at)})]},e.id)),e.used_by.length>3&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["+",e.used_by.length-3," kişi daha"]})]})]})]})]})},e.id))}),0===i.length&&(0,a.jsxs)(m.Zb,{className:"p-8 text-center",children:[(0,a.jsx)(g,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Hen\xfcz davet kodunuz yok"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Arkadaşlarınızı platforma davet etmek i\xe7in yeni bir kod oluşturun"}),(0,a.jsx)(x.z,{onClick:R,disabled:f,children:"İlk Davet Kodunu Oluştur"})]})]})}function C(){let[e,r]=(0,s.useState)("invite"),[t,n]=(0,s.useState)(""),[f,g]=(0,s.useState)({email:"",password:"",confirmPassword:"",username:"",fullName:"",school:"",grade:"",city:""}),[p,y]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),[k,_]=(0,s.useState)(""),{supabase:C}=(0,w.useSupabase)(),Z=(0,i.useRouter)(),z=e=>{let{name:r,value:t}=e.target;g(e=>({...e,[r]:t})),_("")},I=()=>f.email&&f.password&&f.username&&f.fullName?f.password.length<6?(_("Şifre en az 6 karakter olmalıdır"),!1):f.password!==f.confirmPassword?(_("Şifreler eşleşmiyor"),!1):!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)||(_("Ge\xe7erli bir e-posta adresi girin"),!1):(_("L\xfctfen t\xfcm zorunlu alanları doldurun"),!1),D=async e=>{if(e.preventDefault(),I()){N(!0),_("");try{let{data:e,error:r}=await C.auth.signUp({email:f.email,password:f.password,options:{data:{username:f.username,full_name:f.fullName,school:f.school,grade:f.grade?parseInt(f.grade):null,city:f.city,invite_code:t}}});if(r)throw r;e.user&&(await C.from("invite_uses").insert({code:t,user_id:e.user.id}),await C.from("profiles").insert({id:e.user.id,username:f.username,display_name:f.fullName,school:f.school,grade:f.grade?parseInt(f.grade):null,city:f.city,total_points:0,level:1}),Z.push("/profile/setup"))}catch(e){console.error("Registration error:",e),_(e.message||"Kayıt olurken bir hata oluştu")}finally{N(!1)}}};return"invite"===e?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsxs)(l(),{href:"/",className:"inline-flex items-center text-primary-600 hover:text-primary-700 mb-4",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Ana Sayfaya D\xf6n"]})}),(0,a.jsx)(S,{mode:"validate",onValidCode:e=>{n(e),r("register")}})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)(x.z,{variant:"ghost",onClick:()=>r("invite"),className:"mb-4",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Geri"]}),(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Hesap Oluştur"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Lise Forumu'na katılmak i\xe7in bilgilerini gir"})]})]}),(0,a.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,a.jsxs)(m.Zb,{className:"p-8",children:[(0,a.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi *"}),(0,a.jsx)(h.I,{type:"email",name:"email",value:f.email,onChange:z,placeholder:"ornek@email.com",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kullanıcı Adı *"}),(0,a.jsx)(h.I,{type:"text",name:"username",value:f.username,onChange:z,placeholder:"kullaniciadi",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad *"}),(0,a.jsx)(h.I,{type:"text",name:"fullName",value:f.fullName,onChange:z,placeholder:"Adınız Soyadınız",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Okul"}),(0,a.jsx)(h.I,{type:"text",name:"school",value:f.school,onChange:z,placeholder:"Okul adı"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf"}),(0,a.jsxs)("select",{name:"grade",value:f.grade,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,a.jsx)("option",{value:"",children:"Se\xe7in"}),(0,a.jsx)("option",{value:"9",children:"9. Sınıf"}),(0,a.jsx)("option",{value:"10",children:"10. Sınıf"}),(0,a.jsx)("option",{value:"11",children:"11. Sınıf"}),(0,a.jsx)("option",{value:"12",children:"12. Sınıf"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şehir"}),(0,a.jsx)(h.I,{type:"text",name:"city",value:f.city,onChange:z,placeholder:"Şehriniz"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.I,{type:p?"text":"password",name:"password",value:f.password,onChange:z,placeholder:"En az 6 karakter",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>y(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p?(0,a.jsx)(d.Z,{className:"h-4 w-4"}):(0,a.jsx)(u.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre Tekrar *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.I,{type:v?"text":"password",name:"confirmPassword",value:f.confirmPassword,onChange:z,placeholder:"Şifrenizi tekrar girin",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>b(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v?(0,a.jsx)(d.Z,{className:"h-4 w-4"}):(0,a.jsx)(u.Z,{className:"h-4 w-4"})})]})]}),k&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:k}),(0,a.jsx)(x.z,{type:"submit",disabled:j,className:"w-full",children:j?"Hesap Oluşturuluyor...":"Hesap Oluştur"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Zaten hesabın var mı?"," ",(0,a.jsx)(l(),{href:"/auth/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Giriş Yap"})]})})]})})]})})}},4840:function(e,r,t){"use strict";t.r(r),t.d(r,{Providers:function(){return l},useSupabase:function(){return o}});var a=t(7437),s=t(2265),i=t(3082);let n=(0,s.createContext)(void 0);function l(e){let{children:r}=e,[t]=(0,s.useState)(()=>(0,i.createClientComponentClient)());return(0,a.jsx)(n.Provider,{value:{supabase:t},children:(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:r})})}let o=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useSupabase must be used inside SupabaseProvider");return e}},3277:function(e,r,t){"use strict";t.d(r,{C:function(){return l}});var a=t(7437);t(2265);var s=t(6061),i=t(2169);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary-500 text-white hover:bg-primary-600",secondary:"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-200",destructive:"border-transparent bg-error-500 text-white hover:bg-error-600",outline:"text-gray-900 border-gray-300 hover:bg-gray-50",success:"border-transparent bg-success-500 text-white hover:bg-success-600",warning:"border-transparent bg-warning-500 text-white hover:bg-warning-600"}},defaultVariants:{variant:"default"}});function l(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:t}),r),...s})}},575:function(e,r,t){"use strict";t.d(r,{z:function(){return c}});var a=t(7437),s=t(2265),i=t(7256),n=t(6061),l=t(2169);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white shadow hover:bg-primary-600 hover:shadow-md",destructive:"bg-error-500 text-white shadow hover:bg-error-600",outline:"border border-gray-300 bg-white shadow-sm hover:bg-gray-50 hover:shadow-md",secondary:"bg-secondary-500 text-white shadow hover:bg-secondary-600 hover:shadow-md",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-primary-500 underline-offset-4 hover:underline",gradient:"bg-gradient-primary text-white shadow hover:shadow-md hover:scale-105"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:t,variant:s,size:n,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:s,size:n,className:t})),ref:r,...d})});c.displayName="Button"},5671:function(e,r,t){"use strict";t.d(r,{Zb:function(){return n}});var a=t(7437),s=t(2265),i=t(2169);let n=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-xl border border-gray-200 bg-white shadow-soft",t),...s})});n.displayName="Card",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...s})}).displayName="CardHeader",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,i.cn)("font-semibold leading-none tracking-tight",t),...s})}).displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-gray-600",t),...s})}).displayName="CardDescription",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",t),...s})}).displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},2782:function(e,r,t){"use strict";t.d(r,{I:function(){return n}});var a=t(7437),s=t(2265),i=t(2169);let n=s.forwardRef((e,r)=>{let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n})});n.displayName="Input"},1168:function(e,r,t){"use strict";t.d(r,{a:function(){return n}});var a=t(2265),s=t(4033),i=t(1097);function n(){let[e,r]=(0,a.useState)({user:null,profile:null,loading:!0,error:null}),t=(0,s.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:t}=await i.OQ.auth.getSession();if(t){r(e=>({...e,error:t.message,loading:!1}));return}if(null==e?void 0:e.user){let{data:t,error:a}=await i.OQ.from("profiles").select("*").eq("id",e.user.id).single();a&&console.error("Error fetching profile:",a),r({user:e.user,profile:t||null,loading:!1,error:null})}else r(e=>({...e,loading:!1}))}catch(e){console.error("Error getting initial session:",e),r(e=>({...e,error:"Failed to load session",loading:!1}))}})();let{data:{subscription:e}}=i.OQ.auth.onAuthStateChange(async(e,t)=>{if("SIGNED_IN"===e&&(null==t?void 0:t.user)){let{data:e}=await i.OQ.from("profiles").select("*").eq("id",t.user.id).single();r({user:t.user,profile:e||null,loading:!1,error:null})}else"SIGNED_OUT"===e&&r({user:null,profile:null,loading:!1,error:null})});return()=>{e.unsubscribe()}},[]);let n=async(e,t)=>{r(e=>({...e,loading:!0,error:null}));try{let{error:a}=await i.OQ.auth.signInWithPassword({email:e,password:t});if(a)return r(e=>({...e,error:a.message,loading:!1})),{error:a};return{error:null}}catch(t){let e="An unexpected error occurred";return r(r=>({...r,error:e,loading:!1})),{error:{message:e}}}},l=async(e,t,a)=>{r(e=>({...e,loading:!0,error:null}));try{let{data:s,error:n}=await i.OQ.auth.signUp({email:e,password:t,options:{data:a}});if(n)return r(e=>({...e,error:n.message,loading:!1})),{error:n};return{data:s,error:null}}catch(t){let e="An unexpected error occurred";return r(r=>({...r,error:e,loading:!1})),{error:{message:e}}}},o=async()=>{r(e=>({...e,loading:!0}));try{let{error:e}=await i.OQ.auth.signOut();if(e){r(r=>({...r,error:e.message,loading:!1}));return}t.push("/")}catch(e){console.error("Error signing out:",e),r(e=>({...e,error:"Failed to sign out",loading:!1}))}},c=async t=>{if(!e.user)return{error:{message:"Not authenticated"}};try{let{data:a,error:s}=await i.OQ.from("profiles").update(t).eq("id",e.user.id).select().single();if(s)return{error:s};return r(e=>({...e,profile:a})),{data:a,error:null}}catch(e){return{error:{message:"Failed to update profile"}}}};return{...e,signIn:n,signUp:l,signOut:o,updateProfile:c,isAuthenticated:!!e.user}}},1097:function(e,r,t){"use strict";t.d(r,{OQ:function(){return i}});var a=t(3082),s=t(1492);let i=(0,a.createClientComponentClient)();(0,s.eI)("https://owwucdnfvzrwrqxseuyg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93d3VjZG5mdnpyd3JxeHNldXlnIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1Mjk1NzQ4MSwiZXhwIjoyMDY4NTMzNDgxfQ.31D4tpg5GwLGSZNbgiU4d7WEQBszkN6L19HkN3PY7Yo",{auth:{autoRefreshToken:!1,persistSession:!1}}),i.storage.from("avatars"),i.storage.from("media"),i.storage.from("documents")},2169:function(e,r,t){"use strict";t.d(r,{Ds:function(){return u},SY:function(){return l},cn:function(){return i},g:function(){return d},p6:function(){return n},uf:function(){return o},vs:function(){return c}});var a=t(7042),s=t(4769);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}function n(e){return new Intl.DateTimeFormat("tr-TR",{day:"numeric",month:"long",year:"numeric"}).format(new Date(e))}function l(e){let r=new Date,t=new Date(e),a=Math.floor((r.getTime()-t.getTime())/1e3);if(a<60)return"Az \xf6nce";let s=Math.floor(a/60);if(s<60)return"".concat(s," dakika \xf6nce");let i=Math.floor(s/60);if(i<24)return"".concat(i," saat \xf6nce");let n=Math.floor(i/24);if(n<7)return"".concat(n," g\xfcn \xf6nce");let l=Math.floor(n/7);if(l<4)return"".concat(l," hafta \xf6nce");let o=Math.floor(n/30);return o<12?"".concat(o," ay \xf6nce"):"".concat(Math.floor(n/365)," yıl \xf6nce")}function o(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function c(e){return({9:"9. Sınıf",10:"10. Sınıf",11:"11. Sınıf",12:"12. Sınıf"})[e]||"Bilinmiyor"}function d(e,r){if(!e.length||!r.length)return 0;let t=e.filter(e=>r.includes(e)),a=new Set([...e,...r]).size;return Math.round(t.length/a*100)}function u(e,r){let t;return function(){for(var a=arguments.length,s=Array(a),i=0;i<a;i++)s[i]=arguments[i];clearTimeout(t),t=setTimeout(()=>e(...s),r)}}},4033:function(e,r,t){e.exports=t(5313)}},function(e){e.O(0,[61,82,770,396,971,938,744],function(){return e(e.s=9979)}),_N_E=e.O()}]);