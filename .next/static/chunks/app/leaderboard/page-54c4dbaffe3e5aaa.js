(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{2505:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},2245:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},6781:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},4294:function(e,t,r){Promise.resolve().then(r.bind(r,7898))},4840:function(e,t,r){"use strict";r.r(t),r.d(t,{Providers:function(){return l},useSupabase:function(){return c}});var a=r(7437),n=r(2265),s=r(3082);let i=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r]=(0,n.useState)(()=>(0,s.createClientComponentClient)());return(0,a.jsx)(i.Provider,{value:{supabase:r},children:(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:t})})}let c=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useSupabase must be used inside SupabaseProvider");return e}},7898:function(e,t,r){"use strict";r.r(t),r.d(t,{Leaderboard:function(){return v}});var a=r(7437),n=r(2265),s=r(5251),i=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,i.Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),c=(0,i.Z)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);var o=r(2505),d=r(6781),u=r(2245),f=r(5671),m=r(3277),x=r(5808),h=r(9497),p=r(4840),g=r(2169);function v(e){let{topUsers:t,currentUser:r,currentUserRank:i}=e,[v,y]=(0,n.useState)([]),[b,j]=(0,n.useState)(!0),[N,w]=(0,n.useState)("all"),{supabase:k}=(0,p.useSupabase)();(0,n.useEffect)(()=>{C(t)},[t,N]);let C=e=>{j(!0);try{let t=(e||[]).map((e,t)=>{var r;return{id:e.id,username:e.username,display_name:e.display_name||e.username,avatar_url:e.avatar_url,total_points:e.total_points||0,level:e.level||1,badges:(null===(r=e.user_badges)||void 0===r?void 0:r.flatMap(e=>e.badges))||[],school:e.school,grade:e.grade,rank:t+1}});y(t)}catch(e){console.error("Error processing users:",e)}finally{j(!1)}},M=e=>{switch(e){case 1:return(0,a.jsx)(l,{className:"h-6 w-6 text-yellow-500"});case 2:return(0,a.jsx)(c,{className:"h-6 w-6 text-gray-400"});case 3:return(0,a.jsx)(o.Z,{className:"h-6 w-6 text-orange-600"});default:return(0,a.jsxs)("span",{className:"text-lg font-bold text-gray-600",children:["#",e]})}},T=e=>{switch(e){case 1:return"from-yellow-400 to-yellow-600";case 2:return"from-gray-300 to-gray-500";case 3:return"from-orange-400 to-orange-600";default:return"from-gray-100 to-gray-200"}};return b?(0,a.jsx)("div",{className:"space-y-4",children:[...Array(10)].map((e,t)=>(0,a.jsx)(f.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"animate-pulse flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-16"})]})},t))}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(f.Zb,{className:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(d.Z,{className:"h-8 w-8"}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Liderlik Tablosu"})]}),(0,a.jsx)("p",{className:"text-yellow-100 text-lg",children:"En aktif ve başarılı forum \xfcyeleri"})]})}),(0,a.jsxs)(h.mQ,{value:N,onValueChange:e=>w(e),children:[(0,a.jsxs)(h.dr,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(h.SP,{value:"all",children:"T\xfcm Zamanlar"}),(0,a.jsx)(h.SP,{value:"month",children:"Bu Ay"}),(0,a.jsx)(h.SP,{value:"week",children:"Bu Hafta"})]}),(0,a.jsxs)(h.nU,{value:N,className:"space-y-4",children:[v.length>=3&&(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:v.slice(0,3).map((e,t)=>{var r;return(0,a.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"relative ".concat(0===t?"md:order-2":1===t?"md:order-1":"md:order-3"),children:(0,a.jsxs)(f.Zb,{className:"p-6 text-center bg-gradient-to-br ".concat(T(e.rank)," text-white"),children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:M(e.rank)}),(0,a.jsx)(x.q,{src:e.avatar_url,alt:e.display_name,fallback:null===(r=e.username[0])||void 0===r?void 0:r.toUpperCase(),size:"lg",className:"mx-auto mb-4 border-4 border-white"}),(0,a.jsx)("h3",{className:"font-bold text-lg mb-1",children:e.display_name}),(0,a.jsxs)("p",{className:"text-sm opacity-90 mb-2",children:["@",e.username]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"font-semibold",children:[(0,g.uf)(e.total_points)," puan"]})]}),(0,a.jsxs)(m.C,{variant:"secondary",className:"bg-white/20 text-white",children:["Seviye ",e.level]}),e.school&&(0,a.jsx)("p",{className:"text-xs opacity-75",children:e.school})]})]})},e.id)})}),(0,a.jsx)("div",{className:"space-y-2",children:v.slice(3).map((e,t)=>{var r;return(0,a.jsx)(s.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:(t+3)*.05},children:(0,a.jsx)(f.Zb,{className:"p-4 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-8 text-center",children:M(e.rank)}),(0,a.jsx)(x.q,{src:e.avatar_url,alt:e.display_name,fallback:null===(r=e.username[0])||void 0===r?void 0:r.toUpperCase(),size:"md"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:e.display_name}),(0,a.jsxs)(m.C,{variant:"outline",className:"text-xs",children:["Lv. ",e.level]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["@",e.username]}),e.school&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.school})]}),e.grade&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.grade,". Sınıf"]})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-primary-600",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-semibold",children:(0,g.uf)(e.total_points)})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.badges.length," rozet"]})]})]})})},e.id)})})]})]}),0===v.length&&(0,a.jsxs)(f.Zb,{className:"p-8 text-center",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Hen\xfcz liderlik tablosu yok"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Forum'da aktif olmaya başla ve liderlik tablosunda yerini al!"})]})]})}},5808:function(e,t,r){"use strict";r.d(t,{q:function(){return i}});var a=r(7437);r(2265);var n=r(1465),s=r(2169);function i(e){let{src:t,alt:r="",fallback:i="?",size:l="md",className:c}=e,o={xs:"h-6 w-6 text-xs",sm:"h-8 w-8 text-sm",md:"h-10 w-10 text-base",lg:"h-12 w-12 text-lg",xl:"h-16 w-16 text-xl"},d=o[l]||o.md;return(0,a.jsxs)(n.fC,{className:(0,s.cn)("relative flex shrink-0 overflow-hidden rounded-full",d,c),children:[(0,a.jsx)(n.Ee,{src:t,alt:r,className:"aspect-square h-full w-full object-cover"}),(0,a.jsx)(n.NY,{className:(0,s.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted font-medium",d),children:i})]})}},3277:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var a=r(7437);r(2265);var n=r(6061),s=r(2169);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary-500 text-white hover:bg-primary-600",secondary:"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-200",destructive:"border-transparent bg-error-500 text-white hover:bg-error-600",outline:"text-gray-900 border-gray-300 hover:bg-gray-50",success:"border-transparent bg-success-500 text-white hover:bg-success-600",warning:"border-transparent bg-warning-500 text-white hover:bg-warning-600"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...n})}},5671:function(e,t,r){"use strict";r.d(t,{Zb:function(){return i}});var a=r(7437),n=r(2265),s=r(2169);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl border border-gray-200 bg-white shadow-soft",r),...n})});i.displayName="Card",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})}).displayName="CardHeader",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",r),...n})}).displayName="CardTitle",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-gray-600",r),...n})}).displayName="CardDescription",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})}).displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},9497:function(e,t,r){"use strict";r.d(t,{SP:function(){return o},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var a=r(7437),n=r(2265),s=r(4522),i=r(2169);let l=s.Root,c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.List,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...n})});c.displayName=s.List.displayName;let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.Trigger,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...n})});o.displayName=s.Trigger.displayName;let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.Content,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...n})});d.displayName=s.Content.displayName},2169:function(e,t,r){"use strict";r.d(t,{Ds:function(){return u},SY:function(){return l},cn:function(){return s},g:function(){return d},p6:function(){return i},uf:function(){return c},vs:function(){return o}});var a=r(7042),n=r(4769);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}function i(e){return new Intl.DateTimeFormat("tr-TR",{day:"numeric",month:"long",year:"numeric"}).format(new Date(e))}function l(e){let t=new Date,r=new Date(e),a=Math.floor((t.getTime()-r.getTime())/1e3);if(a<60)return"Az \xf6nce";let n=Math.floor(a/60);if(n<60)return"".concat(n," dakika \xf6nce");let s=Math.floor(n/60);if(s<24)return"".concat(s," saat \xf6nce");let i=Math.floor(s/24);if(i<7)return"".concat(i," g\xfcn \xf6nce");let l=Math.floor(i/7);if(l<4)return"".concat(l," hafta \xf6nce");let c=Math.floor(i/30);return c<12?"".concat(c," ay \xf6nce"):"".concat(Math.floor(i/365)," yıl \xf6nce")}function c(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function o(e){return({9:"9. Sınıf",10:"10. Sınıf",11:"11. Sınıf",12:"12. Sınıf"})[e]||"Bilinmiyor"}function d(e,t){if(!e.length||!t.length)return 0;let r=e.filter(e=>t.includes(e)),a=new Set([...e,...t]).size;return Math.round(r.length/a*100)}function u(e,t){let r;return function(){for(var a=arguments.length,n=Array(a),s=0;s<a;s++)n[s]=arguments[s];clearTimeout(r),r=setTimeout(()=>e(...n),t)}}},4522:function(e,t,r){"use strict";r.r(t),r.d(t,{Content:function(){return R},List:function(){return Z},Root:function(){return S},Tabs:function(){return y},TabsContent:function(){return C},TabsList:function(){return j},TabsTrigger:function(){return w},Trigger:function(){return _},createTabsScope:function(){return h}});var a=r(2265),n=r(5744),s=r(6989),i=r(4356),l=r(5606),c=r(9381),o=r(5400),d=r(3763),u=r(966),f=r(7437),m="Tabs",[x,h]=(0,s.b)(m,[i.Pc]),p=(0,i.Pc)(),[g,v]=x(m),y=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,onValueChange:n,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:x="automatic",...h}=e,p=(0,o.gm)(l),[v,y]=(0,d.T)({prop:a,onChange:n,defaultProp:s??"",caller:m});return(0,f.jsx)(g,{scope:r,baseId:(0,u.M)(),value:v,onValueChange:y,orientation:i,dir:p,activationMode:x,children:(0,f.jsx)(c.WV.div,{dir:p,"data-orientation":i,...h,ref:t})})});y.displayName=m;var b="TabsList",j=a.forwardRef((e,t)=>{let{__scopeTabs:r,loop:a=!0,...n}=e,s=v(b,r),l=p(r);return(0,f.jsx)(i.fC,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:a,children:(0,f.jsx)(c.WV.div,{role:"tablist","aria-orientation":s.orientation,...n,ref:t})})});j.displayName=b;var N="TabsTrigger",w=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,disabled:s=!1,...l}=e,o=v(N,r),d=p(r),u=M(o.baseId,a),m=T(o.baseId,a),x=a===o.value;return(0,f.jsx)(i.ck,{asChild:!0,...d,focusable:!s,active:x,children:(0,f.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...l,ref:t,onMouseDown:(0,n.M)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(a)}),onKeyDown:(0,n.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(a)}),onFocus:(0,n.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;x||s||!e||o.onValueChange(a)})})})});w.displayName=N;var k="TabsContent",C=a.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,d=v(k,r),u=M(d.baseId,n),m=T(d.baseId,n),x=n===d.value,h=a.useRef(x);return a.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,f.jsx)(l.z,{present:s||x,children:({present:r})=>(0,f.jsx)(c.WV.div,{"data-state":x?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:m,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&i})})});function M(e,t){return`${e}-trigger-${t}`}function T(e,t){return`${e}-content-${t}`}C.displayName=k;var S=y,Z=j,_=w,R=C}},function(e){e.O(0,[61,82,770,872,971,938,744],function(){return e(e.s=4294)}),_N_E=e.O()}]);