(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[437],{8203:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},3008:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2245:function(e,s,r){"use strict";r.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},2508:function(e,s,r){Promise.resolve().then(r.t.bind(r,5250,23)),Promise.resolve().then(r.bind(r,7106)),Promise.resolve().then(r.bind(r,1666))},7106:function(e,s,r){"use strict";r.r(s),r.d(s,{StudyHelper:function(){return C}});var a=r(7437),t=r(2265),n=r(9865),i=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,i.Z)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var c=r(5750);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,i.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var o=r(3008),u=r(2245),m=r(5790);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,i.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var f=r(8203),p=r(5671),h=r(575),g=r(2782),y=r(3277),v=r(9497),b=r(5808),j=r(4840),w=r(1168),N=r(2169);let _=["Matematik","Fizik","Kimya","Biyoloji","T\xfcrk\xe7e","Tarih","Coğrafya","Felsefe","İngilizce","Edebiyat"],k=[9,10,11,12];function C(){let[e,s]=(0,t.useState)("questions"),[r,i]=(0,t.useState)([]),[C,S]=(0,t.useState)([]),[Z,q]=(0,t.useState)([]),[E,T]=(0,t.useState)(!0),[z,O]=(0,t.useState)(""),[R,D]=(0,t.useState)(""),[I,P]=(0,t.useState)(null),{supabase:V}=(0,j.useSupabase)(),{user:F}=(0,w.a)();(0,t.useEffect)(()=>{A()},[e,R,I]);let A=async()=>{T(!0);try{switch(e){case"questions":await M();break;case"groups":await U();break;case"notes":await Q()}}catch(e){console.error("Error fetching data:",e)}finally{T(!1)}},M=async()=>{let e=V.from("study_questions").select("\n        *,\n        profiles(username, avatar_url, grade),\n        study_answers(\n          *,\n          profiles(username, avatar_url, expert_subjects)\n        )\n      ").order("created_at",{ascending:!1});R&&(e=e.eq("subject",R)),I&&(e=e.eq("grade",I));let{data:s,error:r}=await e.limit(20);if(r)throw r;i(await Promise.all((s||[]).map(async e=>{let s=await Promise.all((e.study_answers||[]).map(async e=>{let{data:s}=await V.from("answer_votes").select("id").eq("answer_id",e.id),r=!1;if(F){let{data:s}=await V.from("answer_votes").select("id").eq("answer_id",e.id).eq("user_id",F.id).single();r=!!s}return{id:e.id,content:e.content,is_accepted:e.is_accepted,is_helpful:e.is_helpful,answered_by:{id:e.user_id,username:e.profiles.username,avatar_url:e.profiles.avatar_url,expert_subjects:e.profiles.expert_subjects||[]},votes:(null==s?void 0:s.length)||0,user_voted:r,created_at:e.created_at}}));return{id:e.id,title:e.title,content:e.content,subject:e.subject,grade:e.grade,difficulty:e.difficulty,asked_by:{id:e.user_id,username:e.profiles.username,avatar_url:e.profiles.avatar_url,grade:e.profiles.grade},answers:s.sort((e,s)=>s.votes-e.votes),is_solved:e.is_solved,views:e.views||0,created_at:e.created_at,tags:e.tags||[]}})))},U=async()=>{let e=V.from("study_groups").select("\n        *,\n        profiles(username, avatar_url),\n        study_group_members(\n          profiles(username, avatar_url)\n        )\n      ").order("created_at",{ascending:!1});R&&(e=e.eq("subject",R));let{data:s,error:r}=await e.limit(20);if(r)throw r;S(await Promise.all((s||[]).map(async e=>{var s,r;let a=!1;if(F){let{data:s}=await V.from("study_group_members").select("id").eq("group_id",e.id).eq("user_id",F.id).single();a=!!s}return{id:e.id,name:e.name,description:e.description,subject:e.subject,target_exam:e.target_exam,exam_date:e.exam_date,max_members:e.max_members,current_members:(null===(s=e.study_group_members)||void 0===s?void 0:s.length)||0,created_by:{id:e.created_by,username:e.profiles.username,avatar_url:e.profiles.avatar_url},members:(null===(r=e.study_group_members)||void 0===r?void 0:r.map(e=>({id:e.user_id,username:e.profiles.username,avatar_url:e.profiles.avatar_url,role:e.role})))||[],is_member:a,created_at:e.created_at}})))},Q=async()=>{let e=V.from("study_notes").select("\n        *,\n        profiles(username, avatar_url)\n      ").order("created_at",{ascending:!1});R&&(e=e.eq("subject",R)),I&&(e=e.eq("grade",I));let{data:s,error:r}=await e.limit(20);if(r)throw r;q((s||[]).map(e=>({id:e.id,title:e.title,content:e.content,subject:e.subject,grade:e.grade,file_url:e.file_url,shared_by:{id:e.user_id,username:e.profiles.username,avatar_url:e.profiles.avatar_url},downloads:e.downloads||0,rating:e.rating||0,reviews:e.reviews||0,created_at:e.created_at,tags:e.tags||[]})))},W=async e=>{if(F)try{let{error:s}=await V.from("study_group_members").insert({group_id:e,user_id:F.id,role:"member"});if(s)throw s;await U()}catch(e){console.error("Error joining group:",e)}},L=async e=>{if(F)try{let{error:s}=await V.from("answer_votes").insert({answer_id:e,user_id:F.id});if(s)throw s;await M()}catch(e){console.error("Error voting answer:",e)}},K=e=>{switch(e){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=e=>{switch(e){case"easy":return"Kolay";case"medium":return"Orta";case"hard":return"Zor";default:return"Bilinmiyor"}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(p.Zb,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)(n.Z,{className:"h-8 w-8"}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Eğitim Destek Merkezi"})]}),(0,a.jsx)("p",{className:"text-blue-100 text-lg",children:"Ders sorularını sor, \xe7alışma gruplarına katıl, notları paylaş"})]})}),(0,a.jsx)(p.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-64",children:(0,a.jsx)(g.I,{placeholder:"Ara...",value:z,onChange:e=>O(e.target.value),className:"w-full"})}),(0,a.jsxs)("select",{value:R,onChange:e=>D(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,a.jsx)("option",{value:"",children:"T\xfcm Dersler"}),_.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),(0,a.jsxs)("select",{value:I||"",onChange:e=>P(e.target.value?parseInt(e.target.value):null),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,a.jsx)("option",{value:"",children:"T\xfcm Sınıflar"}),k.map(e=>(0,a.jsxs)("option",{value:e,children:[e,". Sınıf"]},e))]})]})}),(0,a.jsxs)(v.mQ,{value:e,onValueChange:s,children:[(0,a.jsxs)(v.dr,{className:"grid w-full grid-cols-3",children:[(0,a.jsxs)(v.SP,{value:"questions",className:"flex items-center space-x-2",children:[(0,a.jsx)(l,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Sorular"})]}),(0,a.jsxs)(v.SP,{value:"groups",className:"flex items-center space-x-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"\xc7alışma Grupları"})]}),(0,a.jsxs)(v.SP,{value:"notes",className:"flex items-center space-x-2",children:[(0,a.jsx)(d,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Ders Notları"})]})]}),(0,a.jsx)(v.nU,{value:"questions",className:"space-y-4",children:E?(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(p.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"})]})},s))}):(0,a.jsx)("div",{className:"space-y-4",children:r.map(e=>{var s,r;return(0,a.jsxs)(p.Zb,{className:"p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),e.is_solved&&(0,a.jsxs)(y.C,{variant:"success",children:[(0,a.jsx)(o.Z,{className:"h-3 w-3 mr-1"}),"\xc7\xf6z\xfcld\xfc"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(b.q,{src:e.asked_by.avatar_url,alt:e.asked_by.username,fallback:null===(s=e.asked_by.username[0])||void 0===s?void 0:s.toUpperCase(),size:"xs"}),(0,a.jsx)("span",{children:e.asked_by.username}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.asked_by.grade,". Sınıf"]})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:(0,N.SY)(e.created_at)}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.views," g\xf6r\xfcnt\xfcleme"]})]}),(0,a.jsx)("p",{className:"text-gray-700 mb-3 line-clamp-2",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(y.C,{variant:"outline",children:e.subject}),(0,a.jsx)(y.C,{className:K(e.difficulty),children:$(e.difficulty)}),e.tags.map(e=>(0,a.jsxs)(y.C,{variant:"secondary",className:"text-xs",children:["#",e]},e))]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:e.answers.length}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"cevap"})]})]}),e.answers.length>0&&(0,a.jsx)("div",{className:"border-t pt-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(b.q,{src:e.answers[0].answered_by.avatar_url,alt:e.answers[0].answered_by.username,fallback:null===(r=e.answers[0].answered_by.username[0])||void 0===r?void 0:r.toUpperCase(),size:"sm"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.answers[0].answered_by.username}),e.answers[0].answered_by.expert_subjects.includes(e.subject)&&(0,a.jsxs)(y.C,{variant:"success",className:"text-xs",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"Uzman"]}),e.answers[0].is_accepted&&(0,a.jsxs)(y.C,{variant:"default",className:"text-xs",children:[(0,a.jsx)(o.Z,{className:"h-3 w-3 mr-1"}),"Kabul Edildi"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.answers[0].content}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,a.jsxs)(h.z,{variant:"ghost",size:"sm",onClick:()=>L(e.answers[0].id),disabled:!F||e.answers[0].user_voted,children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),e.answers[0].votes]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:(0,N.SY)(e.answers[0].created_at)})]})]})]})})]},e.id)})})}),(0,a.jsx)(v.nU,{value:"groups",className:"space-y-4",children:E?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(6)].map((e,s)=>(0,a.jsx)(p.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"})]})},s))}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(e=>{var s;return(0,a.jsxs)(p.Zb,{className:"p-6 hover:shadow-md transition-shadow",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.name}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.subject})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.target_exam})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:new Date(e.exam_date).toLocaleDateString("tr-TR")})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.current_members,"/",e.max_members," \xfcye"]})]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.q,{src:e.created_by.avatar_url,alt:e.created_by.username,fallback:null===(s=e.created_by.username[0])||void 0===s?void 0:s.toUpperCase(),size:"xs"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.created_by.username})]}),(0,a.jsx)(h.z,{size:"sm",onClick:()=>W(e.id),disabled:!F||e.is_member||e.current_members>=e.max_members,children:e.is_member?"\xdcyesin":"Katıl"})]})]},e.id)})})}),(0,a.jsx)(v.nU,{value:"notes",className:"space-y-4",children:E?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(9)].map((e,s)=>(0,a.jsx)(p.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"})]})},s))}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Z.map(e=>{var s;return(0,a.jsxs)(p.Zb,{className:"p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,a.jsx)(y.C,{variant:"outline",children:e.subject}),(0,a.jsxs)(y.C,{variant:"secondary",children:[e.grade,". Sınıf"]})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)("span",{children:e.rating.toFixed(1)}),(0,a.jsxs)("span",{children:["(",e.reviews,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(d,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.downloads," indirme"]})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2 mb-4",children:e.tags.map(e=>(0,a.jsxs)(y.C,{variant:"secondary",className:"text-xs",children:["#",e]},e))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.q,{src:e.shared_by.avatar_url,alt:e.shared_by.username,fallback:null===(s=e.shared_by.username[0])||void 0===s?void 0:s.toUpperCase(),size:"xs"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.shared_by.username})]}),(0,a.jsx)(h.z,{size:"sm",variant:"outline",children:"İndir"})]})]},e.id)})})})]})]})}},2782:function(e,s,r){"use strict";r.d(s,{I:function(){return i}});var a=r(7437),t=r(2265),n=r(2169);let i=t.forwardRef((e,s)=>{let{className:r,type:t,...i}=e;return(0,a.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...i})});i.displayName="Input"},9497:function(e,s,r){"use strict";r.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return l},nU:function(){return o}});var a=r(7437),t=r(2265),n=r(4522),i=r(2169);let l=n.Root,c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(n.List,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...t})});c.displayName=n.List.displayName;let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(n.Trigger,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...t})});d.displayName=n.Trigger.displayName;let o=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(n.Content,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t})});o.displayName=n.Content.displayName},1168:function(e,s,r){"use strict";r.d(s,{a:function(){return i}});var a=r(2265),t=r(4033),n=r(1097);function i(){let[e,s]=(0,a.useState)({user:null,profile:null,loading:!0,error:null}),r=(0,t.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:r}=await n.OQ.auth.getSession();if(r){s(e=>({...e,error:r.message,loading:!1}));return}if(null==e?void 0:e.user){let{data:r,error:a}=await n.OQ.from("profiles").select("*").eq("id",e.user.id).single();a&&console.error("Error fetching profile:",a),s({user:e.user,profile:r||null,loading:!1,error:null})}else s(e=>({...e,loading:!1}))}catch(e){console.error("Error getting initial session:",e),s(e=>({...e,error:"Failed to load session",loading:!1}))}})();let{data:{subscription:e}}=n.OQ.auth.onAuthStateChange(async(e,r)=>{if("SIGNED_IN"===e&&(null==r?void 0:r.user)){let{data:e}=await n.OQ.from("profiles").select("*").eq("id",r.user.id).single();s({user:r.user,profile:e||null,loading:!1,error:null})}else"SIGNED_OUT"===e&&s({user:null,profile:null,loading:!1,error:null})});return()=>{e.unsubscribe()}},[]);let i=async(e,r)=>{s(e=>({...e,loading:!0,error:null}));try{let{error:a}=await n.OQ.auth.signInWithPassword({email:e,password:r});if(a)return s(e=>({...e,error:a.message,loading:!1})),{error:a};return{error:null}}catch(r){let e="An unexpected error occurred";return s(s=>({...s,error:e,loading:!1})),{error:{message:e}}}},l=async(e,r,a)=>{s(e=>({...e,loading:!0,error:null}));try{let{data:t,error:i}=await n.OQ.auth.signUp({email:e,password:r,options:{data:a}});if(i)return s(e=>({...e,error:i.message,loading:!1})),{error:i};return{data:t,error:null}}catch(r){let e="An unexpected error occurred";return s(s=>({...s,error:e,loading:!1})),{error:{message:e}}}},c=async()=>{s(e=>({...e,loading:!0}));try{let{error:e}=await n.OQ.auth.signOut();if(e){s(s=>({...s,error:e.message,loading:!1}));return}r.push("/")}catch(e){console.error("Error signing out:",e),s(e=>({...e,error:"Failed to sign out",loading:!1}))}},d=async r=>{if(!e.user)return{error:{message:"Not authenticated"}};try{let{data:a,error:t}=await n.OQ.from("profiles").update(r).eq("id",e.user.id).select().single();if(t)return{error:t};return s(e=>({...e,profile:a})),{data:a,error:null}}catch(e){return{error:{message:"Failed to update profile"}}}};return{...e,signIn:i,signUp:l,signOut:c,updateProfile:d,isAuthenticated:!!e.user}}},2210:function(e,s,r){"use strict";r.d(s,{F:function(){return n},e:function(){return i}});var a=r(2265);function t(e,s){if("function"==typeof e)return e(s);null!=e&&(e.current=s)}function n(...e){return s=>{let r=!1,a=e.map(e=>{let a=t(e,s);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let s=0;s<a.length;s++){let r=a[s];"function"==typeof r?r():t(e[s],null)}}}}function i(...e){return a.useCallback(n(...e),e)}},7256:function(e,s,r){"use strict";r.d(s,{Z8:function(){return i},g7:function(){return l}});var a=r(2265),t=r(2210),n=r(7437);function i(e){let s=function(e){let s=a.forwardRef((e,s)=>{let{children:r,...n}=e;if(a.isValidElement(r)){let e,i;let l=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,c=function(e,s){let r={...s};for(let a in s){let t=e[a],n=s[a];/^on[A-Z]/.test(a)?t&&n?r[a]=(...e)=>{let s=n(...e);return t(...e),s}:t&&(r[a]=t):"style"===a?r[a]={...t,...n}:"className"===a&&(r[a]=[t,n].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(c.ref=s?(0,t.F)(s,l):l),a.cloneElement(r,c)}return a.Children.count(r)>1?a.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}(e),r=a.forwardRef((e,r)=>{let{children:t,...i}=e,l=a.Children.toArray(t),c=l.find(d);if(c){let e=c.props.children,t=l.map(s=>s!==c?s:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(s,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,t):null})}return(0,n.jsx)(s,{...i,ref:r,children:t})});return r.displayName=`${e}.Slot`,r}var l=i("Slot"),c=Symbol("radix.slottable");function d(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}},4522:function(e,s,r){"use strict";r.r(s),r.d(s,{Content:function(){return T},List:function(){return q},Root:function(){return Z},Tabs:function(){return v},TabsContent:function(){return k},TabsList:function(){return j},TabsTrigger:function(){return N},Trigger:function(){return E},createTabsScope:function(){return p}});var a=r(2265),t=r(5744),n=r(6989),i=r(4356),l=r(5606),c=r(9381),d=r(5400),o=r(3763),u=r(966),m=r(7437),x="Tabs",[f,p]=(0,n.b)(x,[i.Pc]),h=(0,i.Pc)(),[g,y]=f(x),v=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,onValueChange:t,defaultValue:n,orientation:i="horizontal",dir:l,activationMode:f="automatic",...p}=e,h=(0,d.gm)(l),[y,v]=(0,o.T)({prop:a,onChange:t,defaultProp:n??"",caller:x});return(0,m.jsx)(g,{scope:r,baseId:(0,u.M)(),value:y,onValueChange:v,orientation:i,dir:h,activationMode:f,children:(0,m.jsx)(c.WV.div,{dir:h,"data-orientation":i,...p,ref:s})})});v.displayName=x;var b="TabsList",j=a.forwardRef((e,s)=>{let{__scopeTabs:r,loop:a=!0,...t}=e,n=y(b,r),l=h(r);return(0,m.jsx)(i.fC,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:a,children:(0,m.jsx)(c.WV.div,{role:"tablist","aria-orientation":n.orientation,...t,ref:s})})});j.displayName=b;var w="TabsTrigger",N=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,disabled:n=!1,...l}=e,d=y(w,r),o=h(r),u=C(d.baseId,a),x=S(d.baseId,a),f=a===d.value;return(0,m.jsx)(i.ck,{asChild:!0,...o,focusable:!n,active:f,children:(0,m.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":x,"data-state":f?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...l,ref:s,onMouseDown:(0,t.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(a)}),onKeyDown:(0,t.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(a)}),onFocus:(0,t.M)(e.onFocus,()=>{let e="manual"!==d.activationMode;f||n||!e||d.onValueChange(a)})})})});N.displayName=w;var _="TabsContent",k=a.forwardRef((e,s)=>{let{__scopeTabs:r,value:t,forceMount:n,children:i,...d}=e,o=y(_,r),u=C(o.baseId,t),x=S(o.baseId,t),f=t===o.value,p=a.useRef(f);return a.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(l.z,{present:n||f,children:({present:r})=>(0,m.jsx)(c.WV.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:x,tabIndex:0,...d,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:r&&i})})});function C(e,s){return`${e}-trigger-${s}`}function S(e,s){return`${e}-content-${s}`}k.displayName=_;var Z=v,q=j,E=N,T=k},6061:function(e,s,r){"use strict";r.d(s,{j:function(){return i}});var a=r(7042);let t=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=a.W,i=(e,s)=>r=>{var a;if((null==s?void 0:s.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:l}=s,c=Object.keys(i).map(e=>{let s=null==r?void 0:r[e],a=null==l?void 0:l[e];if(null===s)return null;let n=t(s)||t(a);return i[e][n]}),d=r&&Object.entries(r).reduce((e,s)=>{let[r,a]=s;return void 0===a||(e[r]=a),e},{});return n(e,c,null==s?void 0:null===(a=s.compoundVariants)||void 0===a?void 0:a.reduce((e,s)=>{let{class:r,className:a,...t}=s;return Object.entries(t).every(e=>{let[s,r]=e;return Array.isArray(r)?r.includes({...l,...d}[s]):({...l,...d})[s]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[61,82,872,396,570,590,971,938,744],function(){return e(e.s=2508)}),_N_E=e.O()}]);